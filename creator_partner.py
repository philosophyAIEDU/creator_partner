# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸
import streamlit as st
from google.generativeai import GenerativeModel
import google.generativeai as genai
import os
from datetime import datetime

# ============================================================================
# ì—ì´ì „í‹± ì›Œí¬í”Œë¡œìš° ê¸°ë°˜ ì°½ì‘ íŒŒíŠ¸ë„ˆ ì‹œìŠ¤í…œ
# 3ëª…ì˜ íŠ¹í™”ëœ ì°½ì‘ ì „ë¬¸ê°€ê°€ íŒ€ì„ ì´ë£¨ì–´ ì‚¬ìš©ìë¥¼ ì§€ì›
# ============================================================================

class CreativeTeam:
    """
    AI ê¸°ë°˜ ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€ì„ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤
    ê° ì „ë¬¸ê°€ì˜ í˜‘ì—…ì„ ì¡°ìœ¨í•˜ê³  ìµœì¢… ê²°ê³¼ë¥¼ ì œê³µ
    """
    
    def __init__(self, api_key):
        """
        ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€ ì´ˆê¸°í™”
        Args:
            api_key (str): Google AI API í‚¤
        """
        self.api_key = api_key
        genai.configure(api_key=api_key)
        self.model = GenerativeModel('gemini-2.5-pro-preview-05-06')
        
        # 3ëª…ì˜ íŠ¹í™”ëœ ì°½ì‘ ì „ë¬¸ê°€ ì´ˆê¸°í™”
        self.content_strategist = ContentStrategist(self.model)  # ì½˜í…ì¸  ì „ëµ ë° ê¸°íš ì „ë¬¸ê°€
        self.creative_writer = CreativeWriter(self.model)      # ì°½ì‘ ë° ìŠ¤í† ë¦¬í…”ë§ ì „ë¬¸ê°€
        self.platform_specialist = PlatformSpecialist(self.model)  # í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ë¬¸ê°€
        
        # ì›Œí¬í”Œë¡œìš° ë¡œê·¸ ì´ˆê¸°í™”
        self.workflow_logs = []
    
    def get_creative_advice(self, service_type, input_data):
        """
        ì‚¬ìš©ì ìš”ì²­ì— ë”°ë¼ 3ëª…ì˜ ì „ë¬¸ê°€ê°€ ìˆœì°¨ì ìœ¼ë¡œ í˜‘ì—…í•˜ì—¬ ì°½ì‘ ì§€ì› ì œê³µ
        Args:
            service_type (str): ìš”ì²­ ì„œë¹„ìŠ¤ ìœ í˜• (YouTube, ë¸”ë¡œê·¸, ì¸ìŠ¤íƒ€ê·¸ë¨)
            input_data (dict): ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°
        Returns:
            dict: ê° ì „ë¬¸ê°€ì˜ ì¡°ì–¸ì„ í¬í•¨í•œ ìµœì¢… ê²°ê³¼
        """
        # ì›Œí¬í”Œë¡œìš° ê¸°ë¡ ì‹œì‘
        workflow_log = {
            "service_type": service_type,
            "timestamp": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
            "experts_involved": ["ContentStrategist", "CreativeWriter", "PlatformSpecialist"],
            "steps": []
        }
        
        # 1ë‹¨ê³„: ì½˜í…ì¸  ì „ëµê°€ì˜ ì´ˆê¸° ë¶„ì„ ë° ê¸°íš
        st.markdown("### 1ë‹¨ê³„: ì½˜í…ì¸  ì „ëµ ë° ê¸°íš ì¤‘...")
        with st.spinner("ì½˜í…ì¸  ì „ëµê°€ê°€ ê¸°íšì„ ìˆ˜ë¦½ ì¤‘ì…ë‹ˆë‹¤..."):
            initial_strategy = self.content_strategist.analyze(service_type, input_data)
            workflow_log["steps"].append({
                "expert": "ContentStrategist",
                "action": "initial_strategy"
            })
        
        # 2ë‹¨ê³„: ì°½ì‘ ì‘ê°€ì˜ ì½˜í…ì¸  ê°œë°œ ë° ìŠ¤í† ë¦¬í…”ë§
        st.markdown("### 2ë‹¨ê³„: ì½˜í…ì¸  ê°œë°œ ë° ìŠ¤í† ë¦¬í…”ë§ ì¤‘...")
        with st.spinner("ì°½ì‘ ì‘ê°€ê°€ ì½˜í…ì¸ ë¥¼ ë°œì „ì‹œí‚¤ëŠ” ì¤‘ì…ë‹ˆë‹¤..."):
            content_enhanced = self.creative_writer.enhance(initial_strategy, service_type, input_data)
            workflow_log["steps"].append({
                "expert": "CreativeWriter",
                "action": "content_enhancement"
            })
        
        # 3ë‹¨ê³„: í”Œë«í¼ ì „ë¬¸ê°€ì˜ ìµœì í™” ë° ë°°í¬ ì „ëµ
        st.markdown("### 3ë‹¨ê³„: í”Œë«í¼ ìµœì í™” ë° ë°°í¬ ì „ëµ ìˆ˜ë¦½ ì¤‘...")
        with st.spinner("í”Œë«í¼ ì „ë¬¸ê°€ê°€ ìµœì¢… ì¡°ì–¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤..."):
            final_advice = self.platform_specialist.finalize(content_enhanced, service_type, input_data)
            workflow_log["steps"].append({
                "expert": "PlatformSpecialist",
                "action": "finalization"
            })
        
        # ì›Œí¬í”Œë¡œìš° ë¡œê·¸ ì €ì¥
        self.workflow_logs.append(workflow_log)
        
        # ê° ì „ë¬¸ê°€ë³„ ê²°ê³¼ë¥¼ ëª¨ë‘ ë°˜í™˜
        return {
            "strategy": initial_strategy,
            "content": content_enhanced,
            "platform": final_advice
        }


class ContentStrategist:
    """
    ì½˜í…ì¸  ì „ëµ ë° ê¸°íš ì „ë¬¸ê°€
    íŠ¸ë Œë“œ ë¶„ì„, íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì •ì˜, ì½˜í…ì¸  ë°©í–¥ì„± ì„¤ì • ë‹´ë‹¹
    """
    
    def __init__(self, model):
        self.model = model
        self.expertise = "content_strategy"
        self.expert_name = "ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€"
        self.expert_intro = """
        ì•ˆë…•í•˜ì„¸ìš”, ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€ì…ë‹ˆë‹¤. 
        ì €ëŠ” íŠ¸ë Œë“œ ë¶„ì„, íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì •ì˜, ì½˜í…ì¸  ë°©í–¥ì„± ì„¤ì •ì„ ì „ë¬¸ìœ¼ë¡œ í•©ë‹ˆë‹¤.
        10ë…„ê°„ì˜ ë””ì§€í„¸ ì½˜í…ì¸  ì „ëµ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì—¬ëŸ¬ë¶„ì˜ ì°½ì‘ë¬¼ì´ ëª©í‘œ ì²­ì¤‘ì—ê²Œ íš¨ê³¼ì ìœ¼ë¡œ ë„ë‹¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ê² ìŠµë‹ˆë‹¤.
        """
    
    def analyze(self, service_type, input_data):
        """
        ì‚¬ìš©ì ìš”ì²­ì— ëŒ€í•œ ì½˜í…ì¸  ì „ëµ ìˆ˜ë¦½
        """
        # ì„œë¹„ìŠ¤ ìœ í˜•ë³„ ë§ì¶¤ í”„ë¡¬í”„íŠ¸ ìƒì„±
        if service_type == "YouTube":
            prompt = self._create_youtube_strategy_prompt(input_data)
        elif service_type == "ë¸”ë¡œê·¸":
            prompt = self._create_blog_strategy_prompt(input_data)
        elif service_type == "ì¸ìŠ¤íƒ€ê·¸ë¨":
            prompt = self._create_instagram_strategy_prompt(input_data)
        elif service_type == "í†µí•© ì½˜í…ì¸ ":
            prompt = self._create_integrated_strategy_prompt(input_data)
        else:
            prompt = self._create_general_strategy_prompt(input_data, service_type)
        
        # ì „ë¬¸ê°€ ì •ë³´ ì¶”ê°€
        prompt = f"""
        ë‹¹ì‹ ì€ '{self.expert_name}'ì´ë¼ëŠ” ì½˜í…ì¸  ì „ëµ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
        {self.expert_intro}
        
        {prompt}
        
        ë¶„ì„ ê²°ê³¼ì— íŠ¸ë Œë“œ ë¶„ì„, íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì¸ì‚¬ì´íŠ¸, ì½˜í…ì¸  ì°¨ë³„í™” ì „ëµì„ ë°˜ë“œì‹œ í¬í•¨í•´ ì£¼ì„¸ìš”.
        ì „ë¬¸ì ì´ë©´ì„œë„ ì‹¤ìš©ì ì¸ ì „ëµì„ ì œì‹œí•´ ì£¼ì„¸ìš”.
        """
        
        # AI ëª¨ë¸ì„ í†µí•œ ì‘ë‹µ ìƒì„±
        response = self.model.generate_content(prompt)
        return response.text
    
    def _create_youtube_strategy_prompt(self, input_data):
        return f"""
        ë‹¤ìŒ YouTube ì½˜í…ì¸  ì•„ì´ë””ì–´ì— ëŒ€í•œ ì „ëµì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”:
        
        ì£¼ì œ/ì•„ì´ë””ì–´: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ì‹œì²­ì: {input_data.get('target_audience', '')}
        
        ë‹¤ìŒ í•­ëª©ì„ í¬í•¨í•˜ëŠ” YouTube ì½˜í…ì¸  ì „ëµì„ ì œê³µí•´ì£¼ì„¸ìš”:
        1. ì½˜í…ì¸  ì‹œì¥ì„± ë° íŠ¸ë Œë“œ ë¶„ì„
        2. íƒ€ê²Ÿ ì‹œì²­ì ì„¸ë¶€ í˜ë¥´ì†Œë‚˜ ë° ë‹ˆì¦ˆ
        3. ìœ ì‚¬ ì½˜í…ì¸  ë¶„ì„ ë° ì°¨ë³„í™” ì „ëµ
        4. í•µì‹¬ ë©”ì‹œì§€ ë° ê°€ì¹˜ ì œì•ˆ
        5. ì‹œë¦¬ì¦ˆ/ì—í”¼ì†Œë“œ êµ¬ì¡° ì œì•ˆ
        6. ì‹œì²­ì ì°¸ì—¬ ìœ ë„ ì „ëµ
        """
    
    def _create_blog_strategy_prompt(self, input_data):
        return f"""
        ë‹¤ìŒ ë¸”ë¡œê·¸ ì½˜í…ì¸  ì•„ì´ë””ì–´ì— ëŒ€í•œ ì „ëµì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”:
        
        ì£¼ì œ/ë¶„ì•¼: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ë…ì: {input_data.get('target_audience', '')}
        
        ë‹¤ìŒ í•­ëª©ì„ í¬í•¨í•˜ëŠ” ë¸”ë¡œê·¸ ì½˜í…ì¸  ì „ëµì„ ì‘ì„±í•´ì£¼ì„¸ìš”:
        1. ë¸”ë¡œê·¸ ì‹œì¥/ë‹ˆì¹˜ ë¶„ì„
        2. íƒ€ê²Ÿ ë…ì í˜ë¥´ì†Œë‚˜ ë° ê´€ì‹¬ì‚¬
        3. ì£¼ìš” ê²½ìŸ ë¸”ë¡œê·¸ ë¶„ì„ ë° ì°¨ë³„í™” í¬ì¸íŠ¸
        4. í•µì‹¬ ì£¼ì œ í´ëŸ¬ìŠ¤í„° ë° ì½˜í…ì¸  í•„ëŸ¬
        5. íƒ€ì„ë¦¬ìŠ¤ vs. ì‹œì˜ì„± ì½˜í…ì¸  ê· í˜•
        6. SEO ë° ë…ì ìœ ì… ì „ëµ ë°©í–¥
        """
    
    def _create_instagram_strategy_prompt(self, input_data):
        return f"""
        ë‹¤ìŒ ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ì•„ì´ë””ì–´ì— ëŒ€í•œ ì „ëµì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”:
        
        ê³„ì • ì£¼ì œ/ì„±ê²©: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ íŒ”ë¡œì›Œ: {input_data.get('target_audience', '')}
        
        ë‹¤ìŒ êµ¬ì¡°ë¡œ ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ì „ëµì„ ì œì‹œí•´ì£¼ì„¸ìš”:
        
        1. ì¸ìŠ¤íƒ€ê·¸ë¨ íŠ¸ë Œë“œ ë° ì•Œê³ ë¦¬ì¦˜ ë¶„ì„
           - í˜„ì¬ ì¸ê¸° ìˆëŠ” ì½˜í…ì¸  ìœ í˜•
           - ìµœì‹  ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ ê³ ë ¤ì‚¬í•­
           - ì°¸ì—¬ìœ¨ ë†’ì€ ì½˜í…ì¸  íŒ¨í„´
        
        2. ë¹„ì£¼ì–¼ ì•„ì´ë´í‹°í‹° ë° ë¸Œëœë”© ì „ëµ
           - ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë° ì‹œê°ì  ì¼ê´€ì„±
           - ê·¸ë¦¬ë“œ/í”¼ë“œ êµ¬ì„± ì»¨ì…‰
           - ìŠ¤í† ë¦¬ì™€ ë¦´ìŠ¤ í™œìš© ë°©í–¥
        
        3. ì½˜í…ì¸  í•„ëŸ¬ ë° ì£¼ì œ ë¶„ë¥˜
           - í•µì‹¬ ì½˜í…ì¸  ì¹´í…Œê³ ë¦¬
           - ì •ê¸° ì‹œë¦¬ì¦ˆ ì•„ì´ë””ì–´
           - ì°¸ì—¬ ìœ ë„ ì½˜í…ì¸  ìœ í˜•
        """
    
    def _create_integrated_strategy_prompt(self, input_data):
        return f"""
        ë‹¤ìŒ í†µí•© ì½˜í…ì¸  ì „ëµ(YouTube, ë¸”ë¡œê·¸, ì¸ìŠ¤íƒ€ê·¸ë¨)ì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”:
        
        ì£¼ì œ/ë¸Œëœë“œ: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤: {input_data.get('target_audience', '')}
        ì£¼ë ¥ í”Œë«í¼: {input_data.get('primary_platform', '')}
        
        ë‹¤ìŒ êµ¬ì¡°ë¡œ í†µí•© ì½˜í…ì¸  ì „ëµì„ ì œì‹œí•´ì£¼ì„¸ìš”:
        
        1. í¬ë¡œìŠ¤ í”Œë«í¼ ë¸Œëœë“œ ì•„ì´ë´í‹°í‹°
           - ì¼ê´€ëœ ë¸Œëœë“œ ë©”ì‹œì§€ ë° í†¤
           - í”Œë«í¼ë³„ ë¸Œëœë”© ë³€í˜•
           - í•µì‹¬ ì°¨ë³„í™” í¬ì¸íŠ¸
        
        2. ì½˜í…ì¸  ìƒíƒœê³„ ì„¤ê³„
           - í”Œë«í¼ë³„ ì—­í•  ì •ì˜
           - ì½˜í…ì¸  ì¬í™œìš© ì „ëµ
           - í”Œë«í¼ ê°„ ìƒí˜¸ ì—°ê²° ë°©ë²•
        
        3. í†µí•© ì˜¤ë””ì–¸ìŠ¤ ì—¬ì • ì„¤ê³„
           - ì˜¤ë””ì–¸ìŠ¤ ìœ ì… ë° ì „í™˜ ê²½ë¡œ
           - ê° í”Œë«í¼ë³„ íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì„¸ê·¸ë¨¼íŠ¸
           - êµì°¨ í™ë³´ ì „ëµ
        """
    
    def _create_general_strategy_prompt(self, input_data, service_type):
        return f"""
        ë‹¤ìŒ {service_type} ì½˜í…ì¸  ìš”ì²­ì— ëŒ€í•œ ì „ëµì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”:
        
        ìš”ì²­ ë‚´ìš©: {str(input_data)}
        
        ì½˜í…ì¸  ì‹œì¥ ë¶„ì„, íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì •ì˜, ì°¨ë³„í™” ì „ëµ, í•µì‹¬ ì½˜í…ì¸  ë°©í–¥ì„±ì„ í¬í•¨í•œ ì¢…í•©ì ì¸ ì „ëµì„ ì œê³µí•´ì£¼ì„¸ìš”.
        """


class CreativeWriter:
    """
    ì°½ì‘ ë° ìŠ¤í† ë¦¬í…”ë§ ì „ë¬¸ê°€
    ë§¤ë ¥ì ì¸ ì½˜í…ì¸  ê°œë°œ, ìŠ¤í† ë¦¬ êµ¬ì¡°, ì‹œê°ì  ìš”ì†Œ ê¸°íš ë‹´ë‹¹
    """
    
    def __init__(self, model):
        self.model = model
        self.expertise = "creative_writing"
        self.expert_name = "ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€"
        self.expert_intro = """
        ì•ˆë…•í•˜ì„¸ìš”, ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€ì…ë‹ˆë‹¤.
        ì €ëŠ” ë§¤ë ¥ì ì¸ ìŠ¤í† ë¦¬í…”ë§, ì‹œê°ì /ì²­ê°ì  ì½˜í…ì¸  ê¸°íš, ì°½ì˜ì  í‘œí˜„ì„ ì „ë¬¸ìœ¼ë¡œ í•©ë‹ˆë‹¤.
        8ë…„ê°„ì˜ ë””ì§€í„¸ ì½˜í…ì¸  ì œì‘ ê²½í—˜ì„ í†µí•´ ì—¬ëŸ¬ë¶„ì˜ ë©”ì‹œì§€ê°€ ì²­ì¤‘ì˜ ë§ˆìŒì„ ì‚¬ë¡œì¡ì„ ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ê² ìŠµë‹ˆë‹¤.
        """
    
    def enhance(self, previous_strategy, service_type, input_data):
        """
        ì „ëµê°€ì˜ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ì°½ì˜ì  ì½˜í…ì¸  ê°œë°œ
        """
        # ì„œë¹„ìŠ¤ ìœ í˜•ë³„ ë§ì¶¤ í”„ë¡¬í”„íŠ¸ ìƒì„±
        if service_type == "YouTube":
            prompt = self._create_youtube_creative_prompt(input_data)
        elif service_type == "ë¸”ë¡œê·¸":
            prompt = self._create_blog_creative_prompt(input_data)
        elif service_type == "ì¸ìŠ¤íƒ€ê·¸ë¨":
            prompt = self._create_instagram_creative_prompt(input_data)
        elif service_type == "í†µí•© ì½˜í…ì¸ ":
            prompt = self._create_integrated_creative_prompt(input_data)
        else:
            prompt = self._create_general_creative_prompt(input_data, service_type)
        
        # ì „ë¬¸ê°€ ì •ë³´ ì¶”ê°€
        prompt = f"""
        ë‹¹ì‹ ì€ '{self.expert_name}'ì´ë¼ëŠ” ì°½ì‘ ì½˜í…ì¸  ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
        {self.expert_intro}
        
        ì½˜í…ì¸  ì „ëµê°€ê°€ ì œê³µí•œ ë‹¤ìŒ ë¶„ì„ì„ ê²€í† í•˜ê³ , ì°½ì‘ ê´€ì ì—ì„œ ë³´ì™„í•´ì£¼ì„¸ìš”:
        
        === ì½˜í…ì¸  ì „ëµê°€ì˜ ë¶„ì„ ===
        {previous_strategy}
        === ë¶„ì„ ë ===
        
        {prompt}
        
        ë§¤ë ¥ì ì¸ ìŠ¤í† ë¦¬ êµ¬ì¡°, ì‹œê°ì /ì²­ê°ì  ìš”ì†Œ, ê°ì •ì  ì—°ê²° ì „ëµì„ ë°˜ë“œì‹œ í¬í•¨í•´ ì£¼ì„¸ìš”.
        """
        
        # AI ëª¨ë¸ì„ í†µí•œ ì‘ë‹µ ìƒì„±
        response = self.model.generate_content(prompt)
        return response.text
    
    def _create_youtube_creative_prompt(self, input_data):
        return f"""
        YouTube ì½˜í…ì¸ ë¥¼ ìœ„í•œ ì°½ì˜ì  ê°œë°œ ê³„íšì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. ì˜ìƒ êµ¬ì„± ë° ìŠ¤í† ë¦¬ë³´ë“œ ì•„ì´ë””ì–´
           - í›…(ì‹œì‘ ë¶€ë¶„) ë””ìì¸
           - ìŠ¤í† ë¦¬ êµ¬ì¡° ë° íë¦„
           - í•µì‹¬ ì‹œê°ì  ì¥ë©´ êµ¬ì„±
        
        2. ìŠ¤í¬ë¦½íŠ¸ ë° ë‚´ë ˆì´ì…˜ ê°€ì´ë“œ
           - ìŠ¤í¬ë¦½íŠ¸ í†¤ê³¼ ìŠ¤íƒ€ì¼
           - í•µì‹¬ ëŒ€ì‚¬ ë° í‘œí˜„
           - ì²­ì¤‘ ì°¸ì—¬ ê¸°ë²•
        
        3. ì‹œê°/ì²­ê°ì  ìš”ì†Œ ê³„íš
           - ì˜ìƒ ìŠ¤íƒ€ì¼ ë° í¸ì§‘ ê¸°ë²•
           - ìŒì•… ë° ì‚¬ìš´ë“œ ë””ìì¸
           - ê·¸ë˜í”½ ë° ì• ë‹ˆë©”ì´ì…˜ ìš”ì†Œ
        
        4. ì¸ë„¤ì¼ ë° íƒ€ì´í‹€ ê¸°íš
           - í´ë¦­ì„ ìœ ë„í•˜ëŠ” ì¸ë„¤ì¼ ì»¨ì…‰
           - ë§¤ë ¥ì ì¸ íƒ€ì´í‹€ êµ¬ì¡°
           - A/B í…ŒìŠ¤íŠ¸ ì˜µì…˜
        
        ì£¼ì œ/ì•„ì´ë””ì–´: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ì‹œì²­ì: {input_data.get('target_audience', '')}
        ì±„ë„ ìŠ¤íƒ€ì¼: {input_data.get('channel_style', '')}
        """
    
    def _create_blog_creative_prompt(self, input_data):
        return f"""
        ë¸”ë¡œê·¸ ì½˜í…ì¸ ë¥¼ ìœ„í•œ ì°½ì˜ì  ê°œë°œ ê³„íšì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. ê¸€ êµ¬ì¡° ë° ìŠ¤í† ë¦¬í…”ë§ ì „ëµ
           - ì£¼ëª©ì„ ë„ëŠ” ì¸íŠ¸ë¡œ ì ‘ê·¼ë²•
           - ì •ë³´ íë¦„ ë° ë…¼ë¦¬ êµ¬ì¡°
           - ê²°ë¡  ë° í–‰ë™ ìœ ë„ ì „ëµ
        
        2. ì½˜í…ì¸  í¬ë§· ë° ì‹œê°ì  ìš”ì†Œ
           - ì„¹ì…˜ êµ¬ë¶„ ë° ì†Œì œëª© ì „ëµ
           - ì´ë¯¸ì§€/ê·¸ë˜í”½ í™œìš© ë°©ì•ˆ
           - ì¸í¬ê·¸ë˜í”½ ë° ì‹œê° ìë£Œ ì•„ì´ë””ì–´
        
        3. ë…ì ì°¸ì—¬ ìœ ë„ ê¸°ë²•
           - ê³µê° í˜•ì„± ë° ìŠ¤í† ë¦¬í…”ë§ ê¸°ë²•
           - ì§ˆë¬¸ ë° ìƒí˜¸ì‘ìš© ìš”ì†Œ
           - ê³µìœ í•˜ê³  ì‹¶ì€ ì¸ì‚¬ì´íŠ¸ ì„¤ê³„
        
        4. ì œëª© ë° ë©”íƒ€ ì½˜í…ì¸  ê¸°íš
           - í´ë¦­ì„ ìœ ë„í•˜ëŠ” í—¤ë“œë¼ì¸ êµ¬ì¡°
           - ì„œë¸Œí—¤ë”© ë° ë©”íƒ€ ì„¤ëª…
           - ë‚´ë¶€/ì™¸ë¶€ ë§í¬ ì „ëµ
        
        ì£¼ì œ/ë¶„ì•¼: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ë…ì: {input_data.get('target_audience', '')}
        ë¸”ë¡œê·¸ ìŠ¤íƒ€ì¼: {input_data.get('blog_style', '')}
        """
    
    def _create_instagram_creative_prompt(self, input_data):
        return f"""
        ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸ ë¥¼ ìœ„í•œ ì°½ì˜ì  ê°œë°œ ê³„íšì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. í”¼ë“œ í¬ìŠ¤íŠ¸ ì°½ì‘ ì „ëµ
           - ì‹œì„ ì„ ì‚¬ë¡œì¡ëŠ” ë¹„ì£¼ì–¼ ì»¨ì…‰
           - ìº¡ì…˜ ìŠ¤í† ë¦¬í…”ë§ ì ‘ê·¼ë²•
           - ê°ì • ì—°ê²° ë° ê³µê° ìš”ì†Œ
        
        2. ìŠ¤í† ë¦¬ ë° ë¦´ìŠ¤ ì»¨í…ì¸  ì•„ì´ë””ì–´
           - ë¦´ìŠ¤ í¬ë§· ë° êµ¬ì„± ì•„ì´ë””ì–´
           - ìŠ¤í† ë¦¬ ì‹œí€€ìŠ¤ ë° ìƒí˜¸ì‘ìš© ìš”ì†Œ
           - ì˜¤ë””ì˜¤/ìŒì•… í™œìš© ì „ëµ
        
        3. ë¹„ì£¼ì–¼ ë””ìì¸ ê°€ì´ë“œ
           - ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ ë° í¸ì§‘ ì ‘ê·¼ë²•
           - ìƒ‰ìƒ ë° ì‹œê°ì  ìš”ì†Œ í™œìš©
           - í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ ë° ê·¸ë˜í”½ ìš”ì†Œ
        
        4. ì°¸ì—¬ ì´‰ì§„ ì½˜í…ì¸  ì•„ì´ë””ì–´
           - ì§ˆë¬¸ ë° í† ë¡  ìœ ë„ ë°©ì‹
           - í•´ì‹œíƒœê·¸ ë° ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ ì „ëµ
           - ê³µìœ  ê°€ëŠ¥ì„± ë†’ì€ ì½˜í…ì¸  ìœ í˜•
        
        ê³„ì • ì£¼ì œ/ì„±ê²©: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ íŒ”ë¡œì›Œ: {input_data.get('target_audience', '')}
        ì‹œê°ì  ìŠ¤íƒ€ì¼: {input_data.get('visual_style', '')}
        """
    
    def _create_integrated_creative_prompt(self, input_data):
        return f"""
        í†µí•© ì½˜í…ì¸ (YouTube, ë¸”ë¡œê·¸, ì¸ìŠ¤íƒ€ê·¸ë¨)ë¥¼ ìœ„í•œ ì°½ì˜ì  ê°œë°œ ê³„íšì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. í•µì‹¬ ìŠ¤í† ë¦¬/ë©”ì‹œì§€ ê°œë°œ
           - í”Œë«í¼ ì „ë°˜ì˜ ì¼ê´€ëœ ìŠ¤í† ë¦¬ ë¼ì¸
           - í”Œë«í¼ë³„ ë³€í˜• ì ‘ê·¼ë²•
           - í•µì‹¬ ë©”ì‹œì§€ ë° í…Œë§ˆ ìš”ì†Œ
        
        2. í”Œë«í¼ë³„ ì°½ì˜ì  ë³€í˜• ì „ëµ
           - ì½˜í…ì¸  ì¬êµ¬ì„± ë° ë¦¬í¼í¬ì§• ë°©ë²•
           - í”Œë«í¼ë³„ ê°•ì  í™œìš© ì ‘ê·¼ë²•
           - ì‹œê°ì /í…ìŠ¤íŠ¸ì  ë³€í™˜ ê°€ì´ë“œ
        
        3. í¬ë¡œìŠ¤ í”Œë«í¼ ì‹œê°ì  ì•„ì´ë´í‹°í‹°
           - ì¼ê´€ëœ ë¹„ì£¼ì–¼ ìš”ì†Œ ë° ë¸Œëœë”©
           - í”Œë«í¼ë³„ ì‹œê°ì  ë³€í˜• ë°©ë²•
           - í†µí•© ë””ìì¸ ì—ì…‹ ì•„ì´ë””ì–´
        
        4. ì½˜í…ì¸  ì‹œë¦¬ì¦ˆ ë° ìº í˜ì¸ êµ¬ì¡°
           - í”Œë«í¼ ê°„ ìƒí˜¸ ë³´ì™„ì  ì‹œë¦¬ì¦ˆ
           - ì‹œê°„ì°¨ ë°œí–‰ ë° ì—°ê²° ì „ëµ
           - í†µí•© ìŠ¤í† ë¦¬í…”ë§ ì ‘ê·¼ë²•
        
        ì£¼ì œ/ë¸Œëœë“œ: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤: {input_data.get('target_audience', '')}
        ì£¼ë ¥ í”Œë«í¼: {input_data.get('primary_platform', '')}
        ë¸Œëœë“œ ìŠ¤íƒ€ì¼: {input_data.get('brand_style', '')}
        """
    
    def _create_general_creative_prompt(self, input_data, service_type):
        return f"""
        ë‹¤ìŒ {service_type} ì½˜í…ì¸  ìš”ì²­ì— ëŒ€í•œ ì°½ì˜ì  ê°œë°œ ê³„íšì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        ìš”ì²­ ë‚´ìš©: {str(input_data)}
        
        ë§¤ë ¥ì ì¸ ìŠ¤í† ë¦¬í…”ë§ êµ¬ì¡°, ì‹œê°ì /ì²­ê°ì  ìš”ì†Œ, ê°ì •ì  ì—°ê²° ì „ëµ, ì°¸ì—¬ ìœ ë„ ë°©ë²•ì„ êµ¬ì²´ì ìœ¼ë¡œ ì œì‹œí•´ì£¼ì„¸ìš”.
        """


class PlatformSpecialist:
    """
    í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ë¬¸ê°€
    í”Œë«í¼ë³„ ìµœì í™”, ì„±ê³¼ ì¸¡ì •, ë°°í¬ ì „ëµ ë‹´ë‹¹
    """
    
    def __init__(self, model):
        self.model = model
        self.expertise = "platform_optimization"
        self.expert_name = "ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€"
        self.expert_intro = """
        ì•ˆë…•í•˜ì„¸ìš”, ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
        ì €ëŠ” ë‹¤ì–‘í•œ ë””ì§€í„¸ í”Œë«í¼ì˜ ìµœì í™”, ì•Œê³ ë¦¬ì¦˜ ì´í•´, ì½˜í…ì¸  ë°°í¬ ì „ëµì„ ì „ë¬¸ìœ¼ë¡œ í•©ë‹ˆë‹¤.
        9ë…„ê°„ì˜ ë””ì§€í„¸ ë§ˆì¼€íŒ… ë° ì½˜í…ì¸  ìµœì í™” ê²½í—˜ì„ í†µí•´ ì—¬ëŸ¬ë¶„ì˜ ì½˜í…ì¸ ê°€ ëª©í‘œ ì²­ì¤‘ì—ê²Œ íš¨ê³¼ì ìœ¼ë¡œ ë„ë‹¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ê² ìŠµë‹ˆë‹¤.
        """
    
    def finalize(self, previous_content, service_type, input_data):
        """
        ì „ëµê°€ì™€ ì°½ì‘ê°€ì˜ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ìµœì¢… í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ëµ ì œê³µ
        """
        # ì„œë¹„ìŠ¤ ìœ í˜•ë³„ ë§ì¶¤ í”„ë¡¬í”„íŠ¸ ìƒì„±
        if service_type == "YouTube":
            prompt = self._create_youtube_platform_prompt(input_data)
        elif service_type == "ë¸”ë¡œê·¸":
            prompt = self._create_blog_platform_prompt(input_data)
        elif service_type == "ì¸ìŠ¤íƒ€ê·¸ë¨":
            prompt = self._create_instagram_platform_prompt(input_data)
        elif service_type == "í†µí•© ì½˜í…ì¸ ":
            prompt = self._create_integrated_platform_prompt(input_data)
        else:
            prompt = self._create_general_platform_prompt(input_data, service_type)
        
        # ì „ë¬¸ê°€ ì •ë³´ ì¶”ê°€
        prompt = f"""
        ë‹¹ì‹ ì€ '{self.expert_name}'ì´ë¼ëŠ” í”Œë«í¼ ìµœì í™” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
        {self.expert_intro}
        
        ì½˜í…ì¸  ì „ëµê°€ì™€ ì°½ì‘ ì‘ê°€ê°€ ì œê³µí•œ, ë‹¤ìŒ ë¶„ì„ì„ ê²€í† í•˜ê³  ìµœì¢…ì ìœ¼ë¡œ ì™„ì„±í•´ì£¼ì„¸ìš”:
        
        === ì´ì „ ì „ë¬¸ê°€ë“¤ì˜ ë¶„ì„ ===
        {previous_content}
        === ë¶„ì„ ë ===
        
        {prompt}
        
        ìµœì¢… ì¡°ì–¸ì—ëŠ” ë‹¤ìŒ ì„¸ ì „ë¬¸ê°€ì˜ ê´€ì ì´ ê· í˜•ìˆê²Œ í†µí•©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:
        1. ì½˜í…ì¸  ì „ëµê°€ (ì „ëµ ë° ë°©í–¥ì„±)
        2. ì°½ì‘ ì‘ê°€ (ìŠ¤í† ë¦¬í…”ë§ ë° ì°½ì˜ì  ìš”ì†Œ)
        3. í”Œë«í¼ ì „ë¬¸ê°€ (ìµœì í™” ë° ìœ í†µ ì „ëµ)
        
        êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ë‹¨ê³„ë³„ ì½˜í…ì¸  ì œì‘ ë° ë°°í¬ ê°€ì´ë“œë¥¼ ì œê³µí•´ì£¼ì„¸ìš”.
        """
        
        # AI ëª¨ë¸ì„ í†µí•œ ì‘ë‹µ ìƒì„±
        response = self.model.generate_content(prompt)
        return response.text
    
    def _create_youtube_platform_prompt(self, input_data):
        return f"""
        YouTube ì½˜í…ì¸ ë¥¼ ìœ„í•œ í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ëµì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. YouTube ì•Œê³ ë¦¬ì¦˜ ìµœì í™” ì „ëµ
           - íƒ€ì´í‹€, ì„¤ëª…, íƒœê·¸ ìµœì í™”
           - ì‹œì²­ ì§€ì†ì„± ë° ì°¸ì—¬ìœ¨ í–¥ìƒ ë°©ë²•
           - ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ í™œìš© ì „ëµ
        
        2. ë°œí–‰ ë° í”„ë¡œëª¨ì…˜ ê³„íš
           - ìµœì  ì—…ë¡œë“œ íƒ€ì´ë° ë° ì£¼ê¸°
           - ì´ˆê¸° ì°¸ì—¬ ìœ ë„ ì „ëµ
           - í¬ë¡œìŠ¤ í”„ë¡œëª¨ì…˜ ë°©ë²•
        
        3. ë°ì´í„° ê¸°ë°˜ ê°œì„  ë°©ë²•ë¡ 
           - í•µì‹¬ ì„±ê³¼ ì§€í‘œ(KPI) ì„¤ì •
           - ë¶„ì„ ëª¨ë‹ˆí„°ë§ ë° ì¸ì‚¬ì´íŠ¸ ë°œêµ´
           - A/B í…ŒìŠ¤íŠ¸ ì ‘ê·¼ë²•
        
        4. ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶• ë° í™•ì¥ ì „ëµ
           - ëŒ“ê¸€ ê´€ë¦¬ ë° ì‹œì²­ì ì°¸ì—¬ ì „ëµ
           - êµ¬ë…ì í™•ë³´ ë° ìœ ì§€ ë°©ë²•
           - ì½˜í…ì¸  ìƒíƒœê³„ í™•ì¥ ë°©ì•ˆ
        
        ì£¼ì œ/ì•„ì´ë””ì–´: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ì‹œì²­ì: {input_data.get('target_audience', '')}
        ì±„ë„ ê·œëª¨: {input_data.get('channel_size', 'ì‹ ê·œ/ì†Œê·œëª¨')}
        """
    
    def _create_blog_platform_prompt(self, input_data):
        return f"""
        ë¸”ë¡œê·¸ ì½˜í…ì¸ ë¥¼ ìœ„í•œ í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ëµì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. SEO ìµœì í™” ì „ëµ
           - í‚¤ì›Œë“œ ë¦¬ì„œì¹˜ ë° í™œìš© ë°©ë²•
           - ì˜¨í˜ì´ì§€ SEO ìš”ì†Œ ìµœì í™”
           - ë‚´/ì™¸ë¶€ ë§í¬ ì „ëµ
        
        2. ì½˜í…ì¸  ë°œí–‰ ë° ìœ í†µ ê³„íš
           - ìµœì  ë°œí–‰ íƒ€ì´ë° ë° ì£¼ê¸°
           - ì†Œì…œ ë¯¸ë””ì–´ ê³µìœ  ì „ëµ
           - ì´ë©”ì¼ ë§ˆì¼€íŒ… ë° ë‰´ìŠ¤ë ˆí„° í™œìš©
        
        3. ë°ì´í„° ë¶„ì„ ë° ì„±ê³¼ ìµœì í™”
           - íŠ¸ë˜í”½ ë° ì°¸ì—¬ ì§€í‘œ ëª¨ë‹ˆí„°ë§
           - ì „í™˜ìœ¨ ìµœì í™” ë°©ë²•
           - ì½˜í…ì¸  ì—…ë°ì´íŠ¸ ë° ë¦¬í¼í¬ì§• ì „ëµ
        
        4. ë…ì ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶• ë°©ì•ˆ
           - ëŒ“ê¸€ ê´€ë¦¬ ë° ë…ì ì°¸ì—¬ ì „ëµ
           - ì¶©ì„± ë…ìì¸µ ê°œë°œ ë°©ë²•
           - í˜‘ì—… ë° ê²ŒìŠ¤íŠ¸ í¬ìŠ¤íŒ… í™œìš©
        
        ì£¼ì œ/ë¶„ì•¼: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ë…ì: {input_data.get('target_audience', '')}
        ë¸”ë¡œê·¸ í”Œë«í¼: {input_data.get('blog_platform', '')}
        """
    
    def _create_instagram_platform_prompt(self, input_data):
        return f"""
        ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸ ë¥¼ ìœ„í•œ í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ëµì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. ì¸ìŠ¤íƒ€ê·¸ë¨ ì•Œê³ ë¦¬ì¦˜ ìµœì í™”
           - í•´ì‹œíƒœê·¸ ì „ëµ ë° ìµœì í™”
           - ìº¡ì…˜ ë° í˜¸ì¶œ í–‰ë™(CTA) ìµœì í™”
           - íƒìƒ‰ í˜ì´ì§€ ë…¸ì¶œ í–¥ìƒ ë°©ë²•
        
        2. ê²Œì‹œ ë° ì°¸ì—¬ ì „ëµ
           - ìµœì  í¬ìŠ¤íŒ… íƒ€ì´ë° ë° ë¹ˆë„
           - ìŠ¤í† ë¦¬, ë¦´ìŠ¤, í”¼ë“œ í†µí•© ì „ëµ
           - ì°¸ì—¬ìœ¨ ì¦ëŒ€ ì „ìˆ 
        
        3. ì„±ì¥ ë° ì˜í–¥ë ¥ í™•ëŒ€ ë°©ë²•
           - íŒ”ë¡œì›Œ í™•ë³´ ë° ìœ ì§€ ì „ëµ
           - í˜‘ì—… ë° ì¸í”Œë£¨ì–¸ì„œ í™œìš©
           - í¬ë¡œìŠ¤ í”„ë¡œëª¨ì…˜ ê¸°íšŒ
        
        4. ë¶„ì„ ë° ìµœì í™” í”„ë ˆì„ì›Œí¬
           - ì£¼ìš” ì„±ê³¼ ì§€í‘œ ëª¨ë‹ˆí„°ë§
           - ì¸ì‚¬ì´íŠ¸ ê¸°ë°˜ ì½˜í…ì¸  ì¡°ì •
           - ì§€ì†ì  ì‹¤í—˜ ë° ìµœì í™” ì ‘ê·¼ë²•
        
        ê³„ì • ì£¼ì œ/ì„±ê²©: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ íŒ”ë¡œì›Œ: {input_data.get('target_audience', '')}
        ê³„ì • ê·œëª¨: {input_data.get('account_size', 'ì‹ ê·œ/ì†Œê·œëª¨')}
        """
    
    def _create_integrated_platform_prompt(self, input_data):
        return f"""
        í†µí•© ì½˜í…ì¸ (YouTube, ë¸”ë¡œê·¸, ì¸ìŠ¤íƒ€ê·¸ë¨)ë¥¼ ìœ„í•œ í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ëµì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        1. í†µí•© ì½˜í…ì¸  ë°œí–‰ ì „ëµ
           - í”Œë«í¼ë³„ ìµœì  ë°œí–‰ ìˆœì„œ ë° íƒ€ì´ë°
           - í¬ë¡œìŠ¤ í”Œë«í¼ í”„ë¡œëª¨ì…˜ íë¦„
           - ì½˜í…ì¸  í˜•ì‹ë³„ ë°°í¬ ê³„íš
        
        2. í”Œë«í¼ ê°„ ì‹œë„ˆì§€ ìµœëŒ€í™”
           - íŠ¸ë˜í”½ ë° ì²­ì¤‘ ì´ë™ ê²½ë¡œ ìµœì í™”
           - í”Œë«í¼ë³„ ê°•ì  ê·¹ëŒ€í™” ë°©ë²•
           - ì°¸ì—¬ ë° ì „í™˜ ê²½ë¡œ ì„¤ê³„
        
        3. í†µí•© ë°ì´í„° ë¶„ì„ ì²´ê³„
           - í¬ë¡œìŠ¤ í”Œë«í¼ ì„±ê³¼ ì¸¡ì • ë°©ë²•
           - í†µí•© KPI ì„¤ì • ë° ëª¨ë‹ˆí„°ë§
           - ë°ì´í„° ê¸°ë°˜ ë¦¬ì†ŒìŠ¤ ë°°ë¶„ ì „ëµ
        
        4. ì¥ê¸° ì„±ì¥ ë° í™•ì¥ ë¡œë“œë§µ
           - ë‹¨ê³„ë³„ ì„±ì¥ ëª©í‘œ ë° ì „ëµ
           - ì½˜í…ì¸  ì—ì½”ì‹œìŠ¤í…œ í™•ì¥ ë°©ë²•
           - ì±„ë„ ê°„ ìƒí˜¸ ê°•í™” ë©”ì»¤ë‹ˆì¦˜
        
        ì£¼ì œ/ë¸Œëœë“œ: {input_data.get('topic', '')}
        ëª©í‘œ/ëª©ì : {input_data.get('goals', '')}
        íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤: {input_data.get('target_audience', '')}
        ì£¼ë ¥ í”Œë«í¼: {input_data.get('primary_platform', '')}
        í˜„ì¬ ì±„ë„ ìƒíƒœ: {input_data.get('current_status', 'ì‹ ê·œ/ì†Œê·œëª¨')}
        """
    
    def _create_general_platform_prompt(self, input_data, service_type):
        return f"""
        ë‹¤ìŒ {service_type} ì½˜í…ì¸  ìš”ì²­ì— ëŒ€í•œ í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ëµì„ ì œì•ˆí•´ì£¼ì„¸ìš”:
        
        ìš”ì²­ ë‚´ìš©: {str(input_data)}
        
        í”Œë«í¼ ìµœì í™”, ë°œí–‰ ë° ìœ í†µ ì „ëµ, ì„±ê³¼ ì¸¡ì • ë°©ë²•, ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶• ì ‘ê·¼ë²•ì„ êµ¬ì²´ì ìœ¼ë¡œ ì œì‹œí•´ì£¼ì„¸ìš”.
        """


# ============================================================================
# Streamlit ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬í˜„
# ============================================================================

def main():
    """
    ë©”ì¸ í•¨ìˆ˜: Streamlit ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ì¸ ë¡œì§
    """
    # í˜ì´ì§€ ê¸°ë³¸ ì„¤ì •
    st.set_page_config(
        page_title="AI ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€",
        page_icon="âœ¨ğŸ“±ğŸ“",
        layout="wide"
    )
    
    # í˜ì´ì§€ ì œëª© ë° ì„¤ëª…
    st.title("âœ¨ AI ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€")
    st.markdown("""
    ### 3ëª…ì˜ ì „ë¬¸ê°€ê°€ í˜‘ì—…í•˜ì—¬ ë§ì¶¤í˜• ì½˜í…ì¸  ì „ëµê³¼ ì•„ì´ë””ì–´ë¥¼ ì œê³µí•©ë‹ˆë‹¤
    
    * **ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€**: íŠ¸ë Œë“œ ë¶„ì„ê³¼ ì½˜í…ì¸  ë°©í–¥ì„± ì„¤ì •
    * **ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€**: ë§¤ë ¥ì ì¸ ìŠ¤í† ë¦¬í…”ë§ê³¼ ì°½ì˜ì  ì½˜í…ì¸  ê°œë°œ
    * **ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€**: í”Œë«í¼ë³„ ìµœì í™”ì™€ ìœ í†µ ì „ëµ
    """)
    st.markdown("---")
    
    # ì‚¬ì´ë“œë°” ì„¤ì •
    with st.sidebar:
        st.header("ğŸ”‘ API ì„¤ì •")
        # API í‚¤ ì…ë ¥ í•„ë“œ (ë¹„ë°€ë²ˆí˜¸ í˜•ì‹)
        api_key = st.text_input("Google API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”", type="password")
        
        # API í‚¤ê°€ ì…ë ¥ë˜ì§€ ì•Šì€ ê²½ìš° ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
        if not api_key:
            st.warning("API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            st.stop()
            
        st.markdown("---")
        
        # ì „ë¬¸ê°€ ì†Œê°œ
        st.markdown("### ğŸ§  ì „ë¬¸ê°€ ì†Œê°œ")
        
        expert_tab = st.selectbox("ì „ë¬¸ê°€ ì •ë³´ ë³´ê¸°", 
                                ["ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€", "ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€", "ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€"])
        
        if expert_tab == "ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€":
            st.markdown("""
            **ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€**
            
            ì½˜í…ì¸  ì „ëµ ì „ë¬¸ê°€ë¡œ 10ë…„ê°„ ë””ì§€í„¸ ì½˜í…ì¸  ê¸°íš ë° ì „ëµ ë¶„ì•¼ì—ì„œ í™œë™í–ˆìŠµë‹ˆë‹¤.
            ì‹œì¥ íŠ¸ë Œë“œ ë¶„ì„, íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì •ì˜, ì½˜í…ì¸  ë°©í–¥ì„± ì„¤ì •ì„ í†µí•´ íš¨ê³¼ì ì¸ ì½˜í…ì¸  ì „ëµì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.
            
            * ì „ë¬¸ ë¶„ì•¼: ì½˜í…ì¸  ë§ˆì¼“ ë¦¬ì„œì¹˜, íƒ€ê²Ÿ í˜ë¥´ì†Œë‚˜ ê°œë°œ, ì»¨í…ì¸  ì°¨ë³„í™” ì „ëµ
            * ê²½ë ¥: ê¸€ë¡œë²Œ ì½˜í…ì¸  ì—ì´ì „ì‹œ, ë””ì§€í„¸ ë§ˆì¼€íŒ… ì»¨ì„¤í„´íŠ¸, ì½˜í…ì¸  ì „ëµ ë””ë ‰í„°
            """)
        
        elif expert_tab == "ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€":
            st.markdown("""
            **ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€**
            
            ì°½ì‘ ë° ìŠ¤í† ë¦¬í…”ë§ ì „ë¬¸ê°€ë¡œ 8ë…„ê°„ ë‹¤ì–‘í•œ ë””ì§€í„¸ ì½˜í…ì¸  ì œì‘ ë¶„ì•¼ì—ì„œ í™œë™í–ˆìŠµë‹ˆë‹¤.
            ë§¤ë ¥ì ì¸ ìŠ¤í† ë¦¬ êµ¬ì¡°, ì‹œê°ì /ì²­ê°ì  ìš”ì†Œ ê¸°íš, ê°ì •ì  ì—°ê²° ì „ëµì„ ì „ë¬¸ìœ¼ë¡œ í•©ë‹ˆë‹¤.
            
            * ì „ë¬¸ ë¶„ì•¼: ë””ì§€í„¸ ìŠ¤í† ë¦¬í…”ë§, í¬ë¦¬ì—ì´í‹°ë¸Œ ì½˜í…ì¸  ì œì‘, ì‹œì²­ê° ì½˜í…ì¸  ì„¤ê³„
            * ê²½ë ¥: í¬ë¦¬ì—ì´í‹°ë¸Œ ë””ë ‰í„°, ì½˜í…ì¸  í”„ë¡œë“€ì„œ, ë””ì§€í„¸ ìŠ¤í† ë¦¬í…”ëŸ¬
            """)
        
        elif expert_tab == "ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€":
            st.markdown("""
            **ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€**
            
            í”Œë«í¼ ìµœì í™” ë° ìœ í†µ ì „ë¬¸ê°€ë¡œ 9ë…„ê°„ ë””ì§€í„¸ ë§ˆì¼€íŒ… ë° ì½˜í…ì¸  ìµœì í™” ë¶„ì•¼ì—ì„œ í™œë™í–ˆìŠµë‹ˆë‹¤.
            ë‹¤ì–‘í•œ í”Œë«í¼ì˜ ì•Œê³ ë¦¬ì¦˜ ì´í•´, ìµœì í™” ì „ëµ, íš¨ê³¼ì ì¸ ì½˜í…ì¸  ìœ í†µ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.
            
            * ì „ë¬¸ ë¶„ì•¼: í”Œë«í¼ ì•Œê³ ë¦¬ì¦˜ ìµœì í™”, ì½˜í…ì¸  ìœ í†µ ì „ëµ, ì„±ê³¼ ë¶„ì„ ë° ìµœì í™”
            * ê²½ë ¥: ë””ì§€í„¸ ë§ˆì¼€íŒ… ì „ëµê°€, ì†Œì…œ ë¯¸ë””ì–´ ìŠ¤í˜ì…œë¦¬ìŠ¤íŠ¸, ì½˜í…ì¸  ì„±ê³¼ ë¶„ì„ê°€
            """)
            
        st.markdown("---")
        # ì‚¬ìš© ë°©ë²• ì•ˆë‚´
        st.markdown("### â„¹ï¸ ì‚¬ìš© ë°©ë²•")
        st.markdown("""
        1. API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”
        2. ì›í•˜ëŠ” í”Œë«í¼ì„ ì„ íƒí•˜ì„¸ìš”
        3. ì½˜í…ì¸  ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”
        4. 'ë¶„ì„ ì‹œì‘' ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ 3ëª…ì˜ ì „ë¬¸ê°€ê°€ ìˆœì°¨ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤
        5. ìµœì¢… ì°½ì‘ ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”
        """)
    
    # ì„œë¹„ìŠ¤ ì„ íƒ ë“œë¡­ë‹¤ìš´
    service = st.selectbox(
        "ì›í•˜ëŠ” í”Œë«í¼ì„ ì„ íƒí•˜ì„¸ìš”",
        ["YouTube", "ë¸”ë¡œê·¸", "ì¸ìŠ¤íƒ€ê·¸ë¨", "í†µí•© ì½˜í…ì¸ "]
    )
    
    # ì¹´ë“œ ìŠ¤íƒ€ì¼ CSS ìˆ˜ì •
    st.markdown("""
    <style>
    .expert-card {
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        color: #000000;  /* ê¸€ììƒ‰ì„ ê²€ì •ìƒ‰ìœ¼ë¡œ ì„¤ì • */
    }
    .strategist-card {
        background-color: #E8F4F9;
        border-left: 5px solid #0077B6;
    }
    .creative-card {
        background-color: #E8F9E9;
        border-left: 5px solid #2D6A4F;
    }
    .platform-card {
        background-color: #F9F3E8;
        border-left: 5px solid #D4A017;
    }

    /* ì „ì²´ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì„¤ì • */
    .stMarkdown, .stText {
        color: #000000 !important;
    }

    /* ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì„¤ì • */
    .stMarkdown p, .stMarkdown li {
        color: #000000 !important;
    }

    /* ê²°ê³¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì„¤ì • */
    div[data-testid="stMarkdownContainer"] {
        color: #000000 !important;
    }
    </style>
    """, unsafe_allow_html=True)
    
    # ì›Œí¬í”Œë¡œìš° ì„¤ëª…
    with st.expander("ì—ì´ì „í‹± ì›Œí¬í”Œë¡œìš° í”„ë¡œì„¸ìŠ¤ ë³´ê¸°"):
        st.markdown("""
        ### ì—ì´ì „í‹± ì›Œí¬í”Œë¡œìš° í”„ë¡œì„¸ìŠ¤
        
        1. **ìš”ì²­ ë¶„ì„**: ì‚¬ìš©ì ì½˜í…ì¸  ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ í•„ìš”í•œ ì „ë¬¸ì„± ì‹ë³„
        2. **íŒ€ êµ¬ì„±**: ê° ìš”ì²­ì— ìµœì í™”ëœ AI ì°½ì‘ ì „ë¬¸ê°€ íŒ€ êµ¬ì„±
        3. **ì½˜í…ì¸  ì „ëµ**: ì½˜í…ì¸  ì „ëµê°€ê°€ ì „ì²´ì ì¸ ë°©í–¥ì„±ê³¼ íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ë¶„ì„
        4. **ì°½ì˜ì  ê°œë°œ**: ì°½ì‘ ì‘ê°€ê°€ ìŠ¤í† ë¦¬í…”ë§ê³¼ ì°½ì˜ì  ì½˜í…ì¸  ìš”ì†Œ ê°œë°œ
        5. **í”Œë«í¼ ìµœì í™”**: í”Œë«í¼ ì „ë¬¸ê°€ê°€ ë°°í¬ ì „ëµê³¼ ìµœì í™” ë°©ì•ˆ ì œì‹œ
        6. **í†µí•© ê°€ì´ë“œ**: ì„¸ ì „ë¬¸ê°€ì˜ ê´€ì ì„ í†µí•©í•œ ìµœì¢… ë§ì¶¤í˜• ì½˜í…ì¸  ê°€ì´ë“œ ì œê³µ
        """)
    
    # ì„ íƒëœ ì„œë¹„ìŠ¤ì— ë”°ë¥¸ UI í‘œì‹œ
    if service == "YouTube":
        st.subheader("ğŸ“¹ YouTube ì½˜í…ì¸  ê°œë°œ")
        
        topic = st.text_area("ì£¼ì œ/ì•„ì´ë””ì–´", height=100, placeholder="ì˜ˆ: í™ˆíŠ¸ë ˆì´ë‹ ì‹œë¦¬ì¦ˆ, ê¸°ì—…ê°€ ì¸í„°ë·°, ì œí’ˆ ë¦¬ë·°...")
        goals = st.text_area("ëª©í‘œ/ëª©ì ", height=100, placeholder="ì˜ˆ: êµ¬ë…ì ì¦ê°€, ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ, ì œí’ˆ íŒë§¤...")
        target_audience = st.text_area("íƒ€ê²Ÿ ì‹œì²­ì", height=100, placeholder="ì˜ˆ: 20-35ì„¸ í”¼íŠ¸ë‹ˆìŠ¤ ì´ˆë³´ì, ì‹ ìƒ ìŠ¤íƒ€íŠ¸ì—… ì°½ì—…ì...")
        
        col1, col2 = st.columns(2)
        with col1:
            channel_style = st.text_input("ì±„ë„ ìŠ¤íƒ€ì¼/í†¤", placeholder="ì˜ˆ: ìœ ë¨¸ëŸ¬ìŠ¤, êµìœ¡ì , ì „ë¬¸ì ...")
            channel_size = st.selectbox("ì±„ë„ ê·œëª¨", ["ì‹ ê·œ ì±„ë„", "ì†Œê·œëª¨ (1ì²œ-1ë§Œ)", "ì¤‘ê·œëª¨ (1ë§Œ-10ë§Œ)", "ëŒ€ê·œëª¨ (10ë§Œ+)"])
        
        with col2:
            content_format = st.selectbox("ì½˜í…ì¸  í˜•ì‹", ["íŠœí† ë¦¬ì–¼/í•˜ìš°íˆ¬", "Vlog", "ì¸í„°ë·°", "ë¦¬ë·°", "ì—”í„°í…Œì¸ë¨¼íŠ¸", "êµìœ¡", "ê¸°íƒ€"])
            video_length = st.selectbox("ì˜ˆìƒ ì˜ìƒ ê¸¸ì´", ["ì‡¼íŠ¸í¼ (1ë¶„ ë¯¸ë§Œ)", "ì¤‘ê°„ (1-10ë¶„)", "ë¡±í¼ (10-30ë¶„)", "ì‹¬ì¸µ ì½˜í…ì¸  (30ë¶„+)"])
        
        additional_info = st.text_area("ì¶”ê°€ ì •ë³´ ë˜ëŠ” ìš”ì²­ì‚¬í•­", height=100)
        
        # ë¶„ì„ ì‹œì‘ ë²„íŠ¼
        if st.button("ë¶„ì„ ì‹œì‘"):
            if topic and goals and target_audience:
                # ì „ë¬¸ê°€ íŒ€ ì´ˆê¸°í™”
                creative_team = CreativeTeam(api_key)
                
                # ì…ë ¥ ë°ì´í„° êµ¬ì„±
                input_data = {
                    "topic": topic,
                    "goals": goals,
                    "target_audience": target_audience,
                    "channel_style": channel_style,
                    "channel_size": channel_size,
                    "content_format": content_format,
                    "video_length": video_length,
                    "additional_info": additional_info
                }
                
                # ê²°ê³¼ ì²˜ë¦¬
                result = creative_team.get_creative_advice("YouTube", input_data)
                
                # ê²°ê³¼ í‘œì‹œ
                st.markdown("### ğŸ“Š ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€ ë¶„ì„ ê²°ê³¼")
                st.markdown(f"""<div class="expert-card strategist-card"><b>ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€</b><br><br>{result['strategy']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card creative-card"><b>ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€</b><br><br>{result['content']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card platform-card"><b>ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€ (ìµœì¢… í†µí•© ì¡°ì–¸)</b><br><br>{result['platform']}</div>""", unsafe_allow_html=True)
            else:
                st.warning("ì£¼ì œ, ëª©í‘œ, íƒ€ê²Ÿ ì‹œì²­ì ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.")
                
    elif service == "ë¸”ë¡œê·¸":
        st.subheader("ğŸ“ ë¸”ë¡œê·¸ ì½˜í…ì¸  ê°œë°œ")
        
        topic = st.text_area("ì£¼ì œ/ë¶„ì•¼", height=100, placeholder="ì˜ˆ: ì§€ì†ê°€ëŠ¥í•œ ìƒí™œ íŒ, í”„ë¡œê·¸ë˜ë° íŠœí† ë¦¬ì–¼, ì—¬í–‰ ê°€ì´ë“œ...")
        goals = st.text_area("ëª©í‘œ/ëª©ì ", height=100, placeholder="ì˜ˆ: íŠ¸ë˜í”½ ì¦ê°€, ì´ë©”ì¼ êµ¬ë…ì í™•ë³´, ì œí’ˆ íŒë§¤...")
        target_audience = st.text_area("íƒ€ê²Ÿ ë…ì", height=100, placeholder="ì˜ˆ: 30-45ì„¸ í™˜ê²½ ì˜ì‹ì´ ë†’ì€ ë¶€ëª¨, ì£¼ë‹ˆì–´ ê°œë°œì...")
        
        col1, col2 = st.columns(2)
        with col1:
            blog_style = st.text_input("ë¸”ë¡œê·¸ ìŠ¤íƒ€ì¼/í†¤", placeholder="ì˜ˆ: ì •ë³´ ì œê³µí˜•, ìŠ¤í† ë¦¬í…”ë§, ì˜¤í”¼ë‹ˆì–¸...")
            blog_platform = st.selectbox("ë¸”ë¡œê·¸ í”Œë«í¼", ["ì›Œë“œí”„ë ˆìŠ¤", "ë¯¸ë””ì—„", "ë¸ŒëŸ°ì¹˜", "í‹°ìŠ¤í† ë¦¬", "ë„¤ì´ë²„ ë¸”ë¡œê·¸", "ê¸°íƒ€"])
        
        with col2:
            content_format = st.selectbox("ì½˜í…ì¸  í˜•ì‹", ["How-to ê°€ì´ë“œ", "ë¦¬ìŠ¤íŠ¸í˜•", "ì‚¬ë¡€ ì—°êµ¬", "ì¸í„°ë·°", "ì‹¬ì¸µ ë¶„ì„", "ê°œì¸ ì—ì„¸ì´", "ê¸°íƒ€"])
            seo_focus = st.selectbox("SEO ì¤‘ìš”ë„", ["ë§¤ìš° ì¤‘ìš”", "ì¤‘ìš”", "ë³´í†µ", "ë‚®ìŒ"])
        
        additional_info = st.text_area("ì¶”ê°€ ì •ë³´ ë˜ëŠ” ìš”ì²­ì‚¬í•­", height=100)
        
        if st.button("ë¶„ì„ ì‹œì‘"):
            if topic and goals and target_audience:
                creative_team = CreativeTeam(api_key)
                input_data = {
                    "topic": topic,
                    "goals": goals, 
                    "target_audience": target_audience,
                    "blog_style": blog_style,
                    "blog_platform": blog_platform,
                    "content_format": content_format,
                    "seo_focus": seo_focus,
                    "additional_info": additional_info
                }
                
                result = creative_team.get_creative_advice("ë¸”ë¡œê·¸", input_data)
                
                st.markdown("### ğŸ“Š ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€ ë¶„ì„ ê²°ê³¼")
                st.markdown(f"""<div class="expert-card strategist-card"><b>ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€</b><br><br>{result['strategy']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card creative-card"><b>ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€</b><br><br>{result['content']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card platform-card"><b>ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€ (ìµœì¢… í†µí•© ì¡°ì–¸)</b><br><br>{result['platform']}</div>""", unsafe_allow_html=True)
            else:
                st.warning("ì£¼ì œ, ëª©í‘œ, íƒ€ê²Ÿ ë…ì ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    
    elif service == "ì¸ìŠ¤íƒ€ê·¸ë¨":
        st.subheader("ğŸ“± ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ê°œë°œ")
        
        topic = st.text_area("ê³„ì • ì£¼ì œ/ì„±ê²©", height=100, placeholder="ì˜ˆ: ë¯¸ë‹ˆë©€ ë¼ì´í”„ìŠ¤íƒ€ì¼, ìš”ê°€ ê°•ì‚¬, ìˆ˜ì œ ì¥¬ì–¼ë¦¬ ë¸Œëœë“œ...")
        goals = st.text_area("ëª©í‘œ/ëª©ì ", height=100, placeholder="ì˜ˆ: íŒ”ë¡œì›Œ ì¦ê°€, ì œí’ˆ íŒë§¤, ì¸í”Œë£¨ì–¸ì„œ í¬ì§€ì…”ë‹...")
        target_audience = st.text_area("íƒ€ê²Ÿ íŒ”ë¡œì›Œ", height=100, placeholder="ì˜ˆ: 20-35ì„¸ íŒ¨ì…˜ ê´€ì‹¬ ì—¬ì„±, ê±´ê°• ë¼ì´í”„ìŠ¤íƒ€ì¼ ì¶”êµ¬ì...")
        
        col1, col2 = st.columns(2)
        with col1:
            visual_style = st.text_input("ì‹œê°ì  ìŠ¤íƒ€ì¼", placeholder="ì˜ˆ: ë°ê³  í™”ì‚¬í•œ, ëª¨ë…¸í†¤, ìì—°ì£¼ì˜...")
            account_size = st.selectbox("ê³„ì • ê·œëª¨", ["ì‹ ê·œ ê³„ì •", "ì†Œê·œëª¨ (1ì²œ ë¯¸ë§Œ)", "ì¤‘ê·œëª¨ (1ì²œ-1ë§Œ)", "ëŒ€ê·œëª¨ (1ë§Œ+)"])
        
        with col2:
            content_focus = st.selectbox("ì½˜í…ì¸  í¬ì»¤ìŠ¤", ["í”¼ë“œ í¬ìŠ¤íŠ¸", "ë¦´ìŠ¤", "ìŠ¤í† ë¦¬", "ëª¨ë‘ ê· í˜•ìˆê²Œ"])
            posting_frequency = st.selectbox("ê²Œì‹œ ë¹ˆë„", ["ì¼ 1íšŒ ì´ìƒ", "ì£¼ 3-5íšŒ", "ì£¼ 1-2íšŒ", "ì›” 1-3íšŒ"])
        
        additional_info = st.text_area("ì¶”ê°€ ì •ë³´ ë˜ëŠ” ìš”ì²­ì‚¬í•­", height=100)
        
        if st.button("ë¶„ì„ ì‹œì‘"):
            if topic and goals and target_audience:
                creative_team = CreativeTeam(api_key)
                input_data = {
                    "topic": topic,
                    "goals": goals,
                    "target_audience": target_audience,
                    "visual_style": visual_style,
                    "account_size": account_size,
                    "content_focus": content_focus,
                    "posting_frequency": posting_frequency,
                    "additional_info": additional_info
                }
                
                result = creative_team.get_creative_advice("ì¸ìŠ¤íƒ€ê·¸ë¨", input_data)
                
                st.markdown("### ğŸ“Š ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€ ë¶„ì„ ê²°ê³¼")
                st.markdown(f"""<div class="expert-card strategist-card"><b>ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€</b><br><br>{result['strategy']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card creative-card"><b>ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€</b><br><br>{result['content']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card platform-card"><b>ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€ (ìµœì¢… í†µí•© ì¡°ì–¸)</b><br><br>{result['platform']}</div>""", unsafe_allow_html=True)
            else:
                st.warning("ì£¼ì œ, ëª©í‘œ, íƒ€ê²Ÿ íŒ”ë¡œì›Œ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    
    elif service == "í†µí•© ì½˜í…ì¸ ":
        st.subheader("ğŸ”„ í†µí•© ì½˜í…ì¸  ì „ëµ ê°œë°œ")
        
        topic = st.text_area("ì£¼ì œ/ë¸Œëœë“œ", height=100, placeholder="ì˜ˆ: ê±´ê°•ì‹í’ˆ ë¸Œëœë“œ, ë””ì§€í„¸ ë§ˆì¼€íŒ… ì „ë¬¸ê°€, ì—¬í–‰ ë¸”ë¡œê±°...")
        goals = st.text_area("ëª©í‘œ/ëª©ì ", height=100, placeholder="ì˜ˆ: ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ, ë¦¬ë“œ ìƒì„±, ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶•...")
        target_audience = st.text_area("íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤", height=100, placeholder="ì˜ˆ: 25-40ì„¸ ê±´ê°• ì˜ì‹ì´ ë†’ì€ ì „ë¬¸ì§, ì†Œê·œëª¨ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜¤ë„ˆ...")
        
        col1, col2 = st.columns(2)
        with col1:
            primary_platform = st.selectbox("ì£¼ë ¥ í”Œë«í¼", ["YouTube", "ë¸”ë¡œê·¸", "ì¸ìŠ¤íƒ€ê·¸ë¨", "ëª¨ë‘ ë™ì¼ ë¹„ì¤‘"])
            brand_style = st.text_input("ë¸Œëœë“œ ìŠ¤íƒ€ì¼/í†¤", placeholder="ì˜ˆ: ì „ë¬¸ì /êµìœ¡ì , ì¹œê·¼í•œ/ëŒ€í™”ì²´, ì˜ê°ì„ ì£¼ëŠ”...")
        
        with col2:
            current_status = st.selectbox("í˜„ì¬ ì±„ë„ ìƒíƒœ", ["ì‹ ê·œ ì‹œì‘", "ì´ˆê¸° ë‹¨ê³„", "ì„±ì¥ ì¤‘", "ì•ˆì •ëœ íŒ”ë¡œì›Œì‹­"])
            content_volume = st.selectbox("ì½˜í…ì¸  ìƒì‚° ì—­ëŸ‰", ["ì£¼ 1íšŒ ë¯¸ë§Œ", "ì£¼ 1-2íšŒ", "ì£¼ 3-5íšŒ", "ì£¼ 5íšŒ ì´ìƒ"])
        
        additional_info = st.text_area("ì¶”ê°€ ì •ë³´ ë˜ëŠ” ìš”ì²­ì‚¬í•­", height=100)
        
        if st.button("ë¶„ì„ ì‹œì‘"):
            if topic and goals and target_audience:
                creative_team = CreativeTeam(api_key)
                input_data = {
                    "topic": topic,
                    "goals": goals,
                    "target_audience": target_audience,
                    "primary_platform": primary_platform,
                    "brand_style": brand_style,
                    "current_status": current_status,
                    "content_volume": content_volume,
                    "additional_info": additional_info
                }
                
                result = creative_team.get_creative_advice("í†µí•© ì½˜í…ì¸ ", input_data)
                
                st.markdown("### ğŸ“Š ì°½ì‘ íŒŒíŠ¸ë„ˆ íŒ€ ë¶„ì„ ê²°ê³¼")
                st.markdown(f"""<div class="expert-card strategist-card"><b>ê¹€ì§€ì› ì½˜í…ì¸  ì „ëµê°€</b><br><br>{result['strategy']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card creative-card"><b>ì´ë¯¼í˜¸ ì½˜í…ì¸  ì‘ê°€</b><br><br>{result['content']}</div>""", unsafe_allow_html=True)
                st.markdown(f"""<div class="expert-card platform-card"><b>ë°•ì„œì—° í”Œë«í¼ ì „ë¬¸ê°€ (ìµœì¢… í†µí•© ì¡°ì–¸)</b><br><br>{result['platform']}</div>""", unsafe_allow_html=True)
            else:
                st.warning("ì£¼ì œ, ëª©í‘œ, íƒ€ê²Ÿ ì˜¤ë””ì–¸ìŠ¤ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.")

# ìŠ¤í¬ë¦½íŠ¸ê°€ ì§ì ‘ ì‹¤í–‰ë  ë•Œë§Œ main() í•¨ìˆ˜ ì‹¤í–‰
if __name__ == "__main__":
    main()